<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.42.0  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name='description' content='  Class : ENV  -   Ruby 2.7.1 ' />
  <meta content="2020-04-01 15:56:47 -0700" http-equiv="change-date" />
  <!-- rel_prefix  = ''  ENV['RDOC_FOR_WEBSITE']   = false-->
    
    
    
  <!-- rel_prefix = '.'   asset_rel_prefix = ''  --> 
  <title>Class: ENV (Ruby 2.7.1) </title>
  <link rel="stylesheet" href="css/associated.css" type="text/css" >
  <!-- link rel="stylesheet" href=".css/obf.css"  -->
  <link rel="stylesheet" href="css/inuit.css" >
  <link rel="stylesheet" href="css/grid.inuit.css" >
  <link rel="stylesheet" href="css/2011.css" type="text/css" >
  <link rel="stylesheet" href="css/rdoc.css" type="text/css" >
    <link rel="stylesheet" href="css/carbon17.css" type="text/css" >


  <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 


   
<script src="/js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

   <link rel="stylesheet" href="css/extra.css" type="text/css" >
  <script  src="/js/extra.js"  ></script>


</head>

<body id="top" class="class rdocstar">

<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'></ul>
</div>
<span id='vulns-alert'></span>
<!-- VERSION HEADER for 2.7.1 NOT FOUND -->
</div> <!-- end action bar -->
 <div class='wrapper'>
  
   <!-- carbon17 added here 2017-09-09 -->
 

   <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>hash.c</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="Object.html">Object</a></p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-5B-5D">::[]</a></li>
          
          <li><a href="#method-c-5B-5D-3D">::[]=</a></li>
          
          <li><a href="#method-c-assoc">::assoc</a></li>
          
          <li><a href="#method-c-clear">::clear</a></li>
          
          <li><a href="#method-c-delete">::delete</a></li>
          
          <li><a href="#method-c-delete_if">::delete_if</a></li>
          
          <li><a href="#method-c-each">::each</a></li>
          
          <li><a href="#method-c-each_key">::each_key</a></li>
          
          <li><a href="#method-c-each_pair">::each_pair</a></li>
          
          <li><a href="#method-c-each_value">::each_value</a></li>
          
          <li><a href="#method-c-empty-3F">::empty?</a></li>
          
          <li><a href="#method-c-fetch">::fetch</a></li>
          
          <li><a href="#method-c-filter">::filter</a></li>
          
          <li><a href="#method-c-filter-21">::filter!</a></li>
          
          <li><a href="#method-c-freeze">::freeze</a></li>
          
          <li><a href="#method-c-has_key-3F">::has_key?</a></li>
          
          <li><a href="#method-c-has_value-3F">::has_value?</a></li>
          
          <li><a href="#method-c-include-3F">::include?</a></li>
          
          <li><a href="#method-c-index">::index</a></li>
          
          <li><a href="#method-c-inspect">::inspect</a></li>
          
          <li><a href="#method-c-invert">::invert</a></li>
          
          <li><a href="#method-c-keep_if">::keep_if</a></li>
          
          <li><a href="#method-c-key">::key</a></li>
          
          <li><a href="#method-c-key-3F">::key?</a></li>
          
          <li><a href="#method-c-keys">::keys</a></li>
          
          <li><a href="#method-c-length">::length</a></li>
          
          <li><a href="#method-c-member-3F">::member?</a></li>
          
          <li><a href="#method-c-merge-21">::merge!</a></li>
          
          <li><a href="#method-c-rassoc">::rassoc</a></li>
          
          <li><a href="#method-c-rehash">::rehash</a></li>
          
          <li><a href="#method-c-reject">::reject</a></li>
          
          <li><a href="#method-c-reject-21">::reject!</a></li>
          
          <li><a href="#method-c-replace">::replace</a></li>
          
          <li><a href="#method-c-select">::select</a></li>
          
          <li><a href="#method-c-select-21">::select!</a></li>
          
          <li><a href="#method-c-shift">::shift</a></li>
          
          <li><a href="#method-c-size">::size</a></li>
          
          <li><a href="#method-c-slice">::slice</a></li>
          
          <li><a href="#method-c-store">::store</a></li>
          
          <li><a href="#method-c-to_a">::to_a</a></li>
          
          <li><a href="#method-c-to_h">::to_h</a></li>
          
          <li><a href="#method-c-to_hash">::to_hash</a></li>
          
          <li><a href="#method-c-to_s">::to_s</a></li>
          
          <li><a href="#method-c-update">::update</a></li>
          
          <li><a href="#method-c-value-3F">::value?</a></li>
          
          <li><a href="#method-c-values">::values</a></li>
          
          <li><a href="#method-c-values_at">::values_at</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul id='files'>
        
          
          <li class="file"><a href="./_lib/racc/rdoc/grammar_en_rdoc.html">grammar.en.rdoc</a></li>
        
          
          <li class="file"><a href="./_test/rdoc/test_ja_rdoc.html">test.ja.rdoc</a></li>
        
          
          <li class="file"><a href="./COPYING_ja.html">COPYING.ja</a></li>
        
          
          <li class="file"><a href="./README_EXT.html">README.EXT</a></li>
        
          
          <li class="file"><a href="./README_EXT_ja.html">README.EXT.ja</a></li>
        
          
          <li class="file"><a href="./configure_ac.html">configure.ac</a></li>
        
          
          <li class="file"><a href="./doc/bug_triaging_rdoc.html">bug_triaging.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/contributing_rdoc.html">contributing.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/contributors_rdoc.html">contributors.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/dtrace_probes_rdoc.html">dtrace_probes.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/extension_ja_rdoc.html">extension.ja.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/extension_rdoc.html">extension.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/globals_rdoc.html">globals.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/keywords_rdoc.html">keywords.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/maintainers_rdoc.html">maintainers.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/marshal_rdoc.html">marshal.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/regexp_rdoc.html">regexp.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/security_rdoc.html">security.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/signals_rdoc.html">signals.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/standard_library_rdoc.html">standard_library.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax_rdoc.html">syntax.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/assignment_rdoc.html">assignment.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/calling_methods_rdoc.html">calling_methods.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/comments_rdoc.html">comments.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/control_expressions_rdoc.html">control_expressions.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/exceptions_rdoc.html">exceptions.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/literals_rdoc.html">literals.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/methods_rdoc.html">methods.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/miscellaneous_rdoc.html">miscellaneous.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/modules_and_classes_rdoc.html">modules_and_classes.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/precedence_rdoc.html">precedence.rdoc</a></li>
        
          
          <li class="file"><a href="./doc/syntax/refinements_rdoc.html">refinements.rdoc</a></li>
        
          
          <li class="file"><a href="./lex_c_blt.html">lex.c.blt</a></li>
        
          
          <li class="file"><a href="./sample/drb/README_ja_rdoc.html">README.ja.rdoc</a></li>
        
          
          <li class="file"><a href="./sample/drb/README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="./ARGF.html">ARGF</a></li>
        
          
          
          <li><a href="./ArgumentError.html">ArgumentError</a></li>
        
          
          
          <li><a href="./Array.html">Array</a></li>
        
          
          
          <li><a href="./BasicObject.html">BasicObject</a></li>
        
          
          
          <li><a href="./Binding.html">Binding</a></li>
        
          
          
          <li><a href="./Class.html">Class</a></li>
        
          
          
          <li><a href="./ClosedQueueError.html">ClosedQueueError</a></li>
        
          
          
          <li><a href="./Comparable.html">Comparable</a></li>
        
          
          
          <li><a href="./Complex.html">Complex</a></li>
        
          
          
          <li><a href="./ConditionVariable.html">ConditionVariable</a></li>
        
          
          
          <li><a href="./Continuation.html">Continuation</a></li>
        
          
          
          <li><a href="./Data.html">Data</a></li>
        
          
          
          <li><a href="./Dir.html">Dir</a></li>
        
          
          
          <li><a href="./ENV.html">ENV</a></li>
        
          
          
          <li><a href="./EOFError.html">EOFError</a></li>
        
          
          
          <li><a href="./Encoding.html">Encoding</a></li>
        
          
          
          <li><a href="./Encoding/CompatibilityError.html">Encoding::CompatibilityError</a></li>
        
          
          
          <li><a href="./Encoding/Converter.html">Encoding::Converter</a></li>
        
          
          
          <li><a href="./Encoding/ConverterNotFoundError.html">Encoding::ConverterNotFoundError</a></li>
        
          
          
          <li><a href="./Encoding/InvalidByteSequenceError.html">Encoding::InvalidByteSequenceError</a></li>
        
          
          
          <li><a href="./Encoding/UndefinedConversionError.html">Encoding::UndefinedConversionError</a></li>
        
          
          
          <li><a href="./EncodingError.html">EncodingError</a></li>
        
          
          
          <li><a href="./Enumerable.html">Enumerable</a></li>
        
          
          
          <li><a href="./Enumerator.html">Enumerator</a></li>
        
          
          
          <li><a href="./Enumerator/ArithmeticSequence.html">Enumerator::ArithmeticSequence</a></li>
        
          
          
          <li><a href="./Enumerator/Chain.html">Enumerator::Chain</a></li>
        
          
          
          <li><a href="./Enumerator/Generator.html">Enumerator::Generator</a></li>
        
          
          
          <li><a href="./Enumerator/Lazy.html">Enumerator::Lazy</a></li>
        
          
          
          <li><a href="./Enumerator/Producer.html">Enumerator::Producer</a></li>
        
          
          
          <li><a href="./Enumerator/Yielder.html">Enumerator::Yielder</a></li>
        
          
          
          <li><a href="./Errno.html">Errno</a></li>
        
          
          
          <li><a href="./Exception.html">Exception</a></li>
        
          
          
          <li><a href="./FalseClass.html">FalseClass</a></li>
        
          
          
          <li><a href="./Fiber.html">Fiber</a></li>
        
          
          
          <li><a href="./FiberError.html">FiberError</a></li>
        
          
          
          <li><a href="./File.html">File</a></li>
        
          
          
          <li><a href="./File/Constants.html">File::Constants</a></li>
        
          
          
          <li><a href="./File/Stat.html">File::Stat</a></li>
        
          
          
          <li><a href="./FileTest.html">FileTest</a></li>
        
          
          
          <li><a href="./Float.html">Float</a></li>
        
          
          
          <li><a href="./FloatDomainError.html">FloatDomainError</a></li>
        
          
          
          <li><a href="./FrozenError.html">FrozenError</a></li>
        
          
          
          <li><a href="./GC.html">GC</a></li>
        
          
          
          <li><a href="./GC/Profiler.html">GC::Profiler</a></li>
        
          
          
          <li><a href="./Hash.html">Hash</a></li>
        
          
          
          <li><a href="./IO.html">IO</a></li>
        
          
          
          <li><a href="./IO/EAGAINWaitReadable.html">IO::EAGAINWaitReadable</a></li>
        
          
          
          <li><a href="./IO/EAGAINWaitWritable.html">IO::EAGAINWaitWritable</a></li>
        
          
          
          <li><a href="./IO/EINPROGRESSWaitReadable.html">IO::EINPROGRESSWaitReadable</a></li>
        
          
          
          <li><a href="./IO/EINPROGRESSWaitWritable.html">IO::EINPROGRESSWaitWritable</a></li>
        
          
          
          <li><a href="./IO/EWOULDBLOCKWaitReadable.html">IO::EWOULDBLOCKWaitReadable</a></li>
        
          
          
          <li><a href="./IO/EWOULDBLOCKWaitWritable.html">IO::EWOULDBLOCKWaitWritable</a></li>
        
          
          
          <li><a href="./IO/WaitReadable.html">IO::WaitReadable</a></li>
        
          
          
          <li><a href="./IO/WaitWritable.html">IO::WaitWritable</a></li>
        
          
          
          <li><a href="./IOError.html">IOError</a></li>
        
          
          
          <li><a href="./IndexError.html">IndexError</a></li>
        
          
          
          <li><a href="./Integer.html">Integer</a></li>
        
          
          
          <li><a href="./Interrupt.html">Interrupt</a></li>
        
          
          
          <li><a href="./Kernel.html">Kernel</a></li>
        
          
          
          <li><a href="./KeyError.html">KeyError</a></li>
        
          
          
          <li><a href="./LoadError.html">LoadError</a></li>
        
          
          
          <li><a href="./LocalJumpError.html">LocalJumpError</a></li>
        
          
          
          <li><a href="./Marshal.html">Marshal</a></li>
        
          
          
          <li><a href="./MatchData.html">MatchData</a></li>
        
          
          
          <li><a href="./Math.html">Math</a></li>
        
          
          
          <li><a href="./Math/DomainError.html">Math::DomainError</a></li>
        
          
          
          <li><a href="./Method.html">Method</a></li>
        
          
          
          <li><a href="./Module.html">Module</a></li>
        
          
          
          <li><a href="./Mutex.html">Mutex</a></li>
        
          
          
          <li><a href="./NameError.html">NameError</a></li>
        
          
          
          <li><a href="./NilClass.html">NilClass</a></li>
        
          
          
          <li><a href="./NoMatchingPatternError.html">NoMatchingPatternError</a></li>
        
          
          
          <li><a href="./NoMemoryError.html">NoMemoryError</a></li>
        
          
          
          <li><a href="./NoMethodError.html">NoMethodError</a></li>
        
          
          
          <li><a href="./NotImplementedError.html">NotImplementedError</a></li>
        
          
          
          <li><a href="./Numeric.html">Numeric</a></li>
        
          
          
          <li><a href="./Object.html">Object</a></li>
        
          
          
          <li><a href="./ObjectSpace.html">ObjectSpace</a></li>
        
          
          
          <li><a href="./ObjectSpace/WeakMap.html">ObjectSpace::WeakMap</a></li>
        
          
          
          <li><a href="./Pool.html">Pool</a></li>
        
          
          
          <li><a href="./Proc.html">Proc</a></li>
        
          
          
          <li><a href="./Process.html">Process</a></li>
        
          
          
          <li><a href="./Process/GID.html">Process::GID</a></li>
        
          
          
          <li><a href="./Process/Status.html">Process::Status</a></li>
        
          
          
          <li><a href="./Process/Sys.html">Process::Sys</a></li>
        
          
          
          <li><a href="./Process/UID.html">Process::UID</a></li>
        
          
          
          <li><a href="./Queue.html">Queue</a></li>
        
          
          
          <li><a href="./Random.html">Random</a></li>
        
          
          
          <li><a href="./Random/Formatter.html">Random::Formatter</a></li>
        
          
          
          <li><a href="./Range.html">Range</a></li>
        
          
          
          <li><a href="./RangeError.html">RangeError</a></li>
        
          
          
          <li><a href="./Rational.html">Rational</a></li>
        
          
          
          <li><a href="./Regexp.html">Regexp</a></li>
        
          
          
          <li><a href="./RegexpError.html">RegexpError</a></li>
        
          
          
          <li><a href="./Ripper.html">Ripper</a></li>
        
          
          
          <li><a href="./RubyVM.html">RubyVM</a></li>
        
          
          
          <li><a href="./RubyVM/AbstractSyntaxTree.html">RubyVM::AbstractSyntaxTree</a></li>
        
          
          
          <li><a href="./RubyVM/AbstractSyntaxTree/Node.html">RubyVM::AbstractSyntaxTree::Node</a></li>
        
          
          
          <li><a href="./RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a></li>
        
          
          
          <li><a href="./RubyVM/MJIT.html">RubyVM::MJIT</a></li>
        
          
          
          <li><a href="./RuntimeError.html">RuntimeError</a></li>
        
          
          
          <li><a href="./ScriptError.html">ScriptError</a></li>
        
          
          
          <li><a href="./SecurityError.html">SecurityError</a></li>
        
          
          
          <li><a href="./Signal.html">Signal</a></li>
        
          
          
          <li><a href="./SignalException.html">SignalException</a></li>
        
          
          
          <li><a href="./SizedQueue.html">SizedQueue</a></li>
        
          
          
          <li><a href="./StandardError.html">StandardError</a></li>
        
          
          
          <li><a href="./StopIteration.html">StopIteration</a></li>
        
          
          
          <li><a href="./String.html">String</a></li>
        
          
          
          <li><a href="./Struct.html">Struct</a></li>
        
          
          
          <li><a href="./Symbol.html">Symbol</a></li>
        
          
          
          <li><a href="./SyntaxError.html">SyntaxError</a></li>
        
          
          
          <li><a href="./SystemCallError.html">SystemCallError</a></li>
        
          
          
          <li><a href="./SystemExit.html">SystemExit</a></li>
        
          
          
          <li><a href="./SystemStackError.html">SystemStackError</a></li>
        
          
          
          <li><a href="./Thread.html">Thread</a></li>
        
          
          
          <li><a href="./Thread/Backtrace/Location.html">Thread::Backtrace::Location</a></li>
        
          
          
          <li><a href="./ThreadError.html">ThreadError</a></li>
        
          
          
          <li><a href="./ThreadGroup.html">ThreadGroup</a></li>
        
          
          
          <li><a href="./Time.html">Time</a></li>
        
          
          
          <li><a href="./TracePoint.html">TracePoint</a></li>
        
          
          
          <li><a href="./TrueClass.html">TrueClass</a></li>
        
          
          
          <li><a href="./TypeError.html">TypeError</a></li>
        
          
          
          <li><a href="./UnboundMethod.html">UnboundMethod</a></li>
        
          
          
          <li><a href="./UncaughtThrowError.html">UncaughtThrowError</a></li>
        
          
          
          <li><a href="./UnicodeNormalize.html">UnicodeNormalize</a></li>
        
          
          
          <li><a href="./Warning.html">Warning</a></li>
        
          
          
          <li><a href="./ZeroDivisionError.html">ZeroDivisionError</a></li>
        
          
          
          <li><a href="./fatal.html">fatal</a></li>
        
          
          
          <li><a href="./unknown.html">unknown</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
  </div> 
  <div id="documentation">
    <h1 class="class">ENV</h1>

    <div id="description" class="description">
      
<p><a href="ENV.html">ENV</a> is a hash-like accessor for environment
variables.</p>

<h3 id="class-ENV-label-Interaction+with+the+Operating+System">Interaction with the Operating System<span><a href="#class-ENV-label-Interaction+with+the+Operating+System">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>The <a href="ENV.html">ENV</a> object interacts with the operating
system&#39;s environment variables:</p>
<ul><li>
<p>When you get the value for a name in <a href="ENV.html">ENV</a>, the value
is retrieved from among the current environment variables.</p>
</li><li>
<p>When you create or set a name-value pair in <a href="ENV.html">ENV</a>, the
name and value are immediately set in the environment variables.</p>
</li><li>
<p>When you delete a name-value pair in <a href="ENV.html">ENV</a>, it is
immediately deleted from the environment variables.</p>
</li></ul>

<h3 id="class-ENV-label-Names+and+Values">Names and Values<span><a href="#class-ENV-label-Names+and+Values">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Generally, a name or value is a <a href="String.html">String</a>.</p>

<h4 id="class-ENV-label-Valid+Names+and+Values">Valid Names and Values<span><a href="#class-ENV-label-Valid+Names+and+Values">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Each name or value must be one of the following:</p>
<ul><li>
<p>A <a href="String.html">String</a>.</p>
</li><li>
<p>An object that responds to #to_str by returning a <a
href="String.html">String</a>, in which case that <a
href="String.html">String</a> will be used as the name or value.</p>
</li></ul>

<h4 id="class-ENV-label-Invalid+Names+and+Values">Invalid Names and Values<span><a href="#class-ENV-label-Invalid+Names+and+Values">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>A new name:</p>
<ul><li>
<p>May not be the empty string:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-comment"># Raises Errno::EINVAL (Invalid argument - ruby_setenv())</span>
</pre>
</li><li>
<p>May not contain character <code>&quot;=&quot;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;=&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-comment"># Raises Errno::EINVAL (Invalid argument - ruby_setenv(=))</span>
</pre>
</li></ul>

<p>A new name or value:</p>
<ul><li>
<p>May not be a non-String that does not respond to #to_str:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
<span class="ruby-comment"># Raises TypeError (no implicit conversion of Object into String)</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-comment"># Raises TypeError (no implicit conversion of Object into String)</span>
</pre>
</li><li>
<p>May not contain the NUL character <code>&quot;\0&quot;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&quot;\0&quot;</span>
<span class="ruby-comment"># Raises ArgumentError (bad environment variable value: contains null byte)</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;\0&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: contains null byte)</span>
</pre>
</li><li>
<p>May not have an ASCII-incompatible encoding such as UTF-16LE or
ISO-2022-JP:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ISO_2022_JP</span>)
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: ASCII incompatible encoding: ISO-2022-JP)</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;foo&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ISO_2022_JP</span>)] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: ASCII incompatible encoding: ISO-2022-JP)</span>
</pre>
</li></ul>

<h3 id="class-ENV-label-About+Ordering">About Ordering<span><a href="#class-ENV-label-About+Ordering">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="ENV.html">ENV</a> enumerates its name/value pairs in the order
found in the operating system&#39;s environment variables. Therefore the
ordering of <a href="ENV.html">ENV</a> content is OS-dependent, and may be
indeterminate.</p>

<p>This will be seen in:</p>
<ul><li>
<p>A <a href="Hash.html">Hash</a> returned by an <a href="ENV.html">ENV</a>
method.</p>
</li><li>
<p>An <a href="Enumerator.html">Enumerator</a> returned by an <a
href="ENV.html">ENV</a> method.</p>
</li><li>
<p>An <a href="Array.html">Array</a> returned by <a
href="ENV.html#method-c-keys">::keys</a>, <a
href="ENV.html#method-c-values">::values</a>, or <a
href="ENV.html#method-c-to_a">::to_a</a>.</p>
</li><li>
<p>The <a href="String.html">String</a> returned by <a
href="ENV.html#method-c-inspect">::inspect</a>.</p>
</li><li>
<p>The <a href="Array.html">Array</a> returned by <a
href="ENV.html#method-c-shift">::shift</a>.</p>
</li><li>
<p>The name returned by <a href="ENV.html#method-c-key">::key</a>.</p>
</li></ul>

<h3 id="class-ENV-label-About+the+Examples">About the Examples<span><a href="#class-ENV-label-About+the+Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Some methods in <a href="ENV.html">ENV</a> return <a
href="ENV.html">ENV</a> itself. Typically, there are many environment
variables. It&#39;s not useful to display a large <a
href="ENV.html">ENV</a> in the examples here, so most example snippets
begin by resetting the contents of ENV:</p>
<ul><li>
<p><a href="ENV.html#method-c-replace">::replace</a> replaces <a
href="ENV.html">ENV</a> with a new collection of entries.</p>
</li><li>
<p><a href="ENV.html#method-c-clear">::clear</a> empties <a
href="ENV.html">ENV</a>.</p>
</li></ul>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="5B-5D-method" class="method-detail ">
          <a name="method-c-5B-5D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">ENV[name] &rarr; value</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the value for the environment variable <code>name</code> if it
exists:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] <span class="ruby-comment"># =&gt; &quot;0&quot;</span>
</pre>

<p>Returns nil if the named variable does not exist:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] <span class="ruby-comment"># =&gt; nil</span>
</pre>

<p>Raises an exception if <code>name</code> is invalid. See <a
href="#class-ENV-label-Invalid-Names+and+Values">Invalid Names and
Values</a>.</p>
            

            
            <div class="method-source-code" id="5B-5D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
rb_f_getenv(VALUE obj, VALUE name)
{
    const char *nam, *env;

    nam = env_name(name);
    env = getenv(nam);
    if (env) {
        return env_name_new(nam, env);
    }
    return Qnil;
}
            </pre> 
            </div><!-- 5B-5D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-method -->
      
        <div id="5B-5D-3D-method" class="method-detail ">
          <a name="method-c-5B-5D-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">ENV[name] = value &rarr; value</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p><a href="ENV.html#method-c-store">::store</a> is an alias for <a
href="ENV.html#method-c-5B-5D-3D">::[]=</a>.</p>

<p>Creates, updates, or deletes the named environment variable, returning the
value. Both <code>name</code> and <code>value</code> may be instances of <a
href="String.html">String</a>. See <a
href="#class-ENV-label-Valid+Names+and+Values">Valid Names and Values</a>.</p>
<ul><li>
<p>If the named environment variable does not exist:</p>
<ul><li>
<p>If <code>value</code> is <code>nil</code>, does nothing.</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-keyword">nil</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-keyword">nil</span>) <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;bar&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>
</li><li>
<p>If <code>value</code> is not <code>nil</code>, creates the environment
variable with <code>name</code> and <code>value</code>:</p>

<pre class="ruby"><span class="ruby-comment"># Create &#39;foo&#39; using ENV.[]=.</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span> <span class="ruby-comment"># =&gt; &#39;0&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] <span class="ruby-comment"># =&gt; &#39;0&#39;</span>
<span class="ruby-comment"># Create &#39;bar&#39; using ENV.store.</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-string">&#39;1&#39;</span>) <span class="ruby-comment"># =&gt; &#39;1&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;bar&#39;</span>] <span class="ruby-comment"># =&gt; &#39;1&#39;</span>
</pre>
</li></ul>
</li><li>
<p>If the named environment variable exists:</p>
<ul><li>
<p>If <code>value</code> is not <code>nil</code>, updates the environment
variable with value <code>value</code>:</p>

<pre class="ruby"><span class="ruby-comment"># Update &#39;foo&#39; using ENV.[]=.</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;2&#39;</span> <span class="ruby-comment"># =&gt; &#39;2&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] <span class="ruby-comment"># =&gt; &#39;2&#39;</span>
<span class="ruby-comment"># Update &#39;bar&#39; using ENV.store.</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-string">&#39;3&#39;</span>) <span class="ruby-comment"># =&gt; &#39;3&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;bar&#39;</span>] <span class="ruby-comment"># =&gt; &#39;3&#39;</span>
</pre>
</li><li>
<p>If <code>value</code> is <code>nil</code>, deletes the environment
variable:</p>

<pre class="ruby"><span class="ruby-comment"># Delete &#39;foo&#39; using ENV.[]=.</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-keyword">nil</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-comment"># Delete &#39;bar&#39; using ENV.store.</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-keyword">nil</span>) <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;bar&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>
</li></ul>
</li></ul>

<p>Raises an exception if <code>name</code> or <code>value</code> is invalid.
See <a href="#class-ENV-label-Invalid+Names+and+Values">Invalid Names and
Values</a>.</p>
            

            
            <div class="method-source-code" id="5B-5D-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_aset_m(VALUE obj, VALUE nm, VALUE val)
{
    return env_aset(nm, val);
}
            </pre> 
            </div><!-- 5B-5D-3D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-3D-method -->
      
        <div id="assoc-method" class="method-detail ">
          <a name="method-c-assoc"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">assoc(name) &rarr; Array or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns a 2-element <a href="Array.html">Array</a> containing the name and
value of the environment variable for <code>name</code> if it exists:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; [&#39;foo&#39; &#39;0&#39;]</span>
</pre>

<p>Returns <code>nil</code> if <code>name</code> is a valid <a
href="String.html">String</a> and there is no such environment variable:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&#39;baz&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Returns <code>nil</code> if <code>name</code> is the empty <a
href="String.html">String</a> or is a <a href="String.html">String</a>
containing character <code>&#39;=&#39;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&#39;&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&#39;=&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Raises an exception if <code>name</code> is a <a
href="String.html">String</a> containing the NUL character
<code>&quot;\0&quot;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&quot;\0&quot;</span>) <span class="ruby-comment"># Raises ArgumentError (bad environment variable name: contains null byte)</span>
</pre>

<p>Raises an exception if <code>name</code> has an encoding that is not
ASCII-compatible:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-string">&quot;\xa1\xa1&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_16LE</span>))
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: ASCII incompatible encoding: UTF-16LE)</span>
</pre>

<p>Raises an exception if <code>name</code> is not a String:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>) <span class="ruby-comment"># TypeError (no implicit conversion of Object into String)</span>
</pre>
            

            
            <div class="method-source-code" id="assoc-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_assoc(VALUE env, VALUE key)
{
    const char *s, *e;

    s = env_name(key);
    e = getenv(s);
    if (e) return rb_assoc_new(key, env_str_new2(e));
    return Qnil;
}
            </pre> 
            </div><!-- assoc-source -->
            
          </div>

          

          
        </div><!-- assoc-method -->
      
        <div id="clear-method" class="method-detail ">
          <a name="method-c-clear"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">clear &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Removes every environment variable; returns ENV:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment"># =&gt; 2</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">clear</span> <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment"># =&gt; 0</span>
</pre>
            

            
            <div class="method-source-code" id="clear-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_clear(VALUE _)
{
    return rb_env_clear();
}
            </pre> 
            </div><!-- clear-source -->
            
          </div>

          

          
        </div><!-- clear-method -->
      
        <div id="delete-method" class="method-detail ">
          <a name="method-c-delete"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">delete(name)                  &rarr; value</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">delete(name) { |name| block } &rarr; value</span>
            
          </div>
          
          
          <div>
  
            
            <p>Deletes the environment variable with <code>name</code> if it exists and
returns its value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; &#39;0&#39;</span>
</pre>

<p>Returns <code>nil</code> if the named environment variable does not exist:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; nil</span>
</pre>

<p>If a block given and the environment variable does not exist, yields
<code>name</code> to the block and returns <code>nil</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;foo&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-identifier">name</span> } <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">foo</span>
</pre>

<p>If a block given and the environment variable exists, deletes the
environment variable and returns its value (ignoring the block):</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;foo&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">fail</span> <span class="ruby-string">&#39;ignored&#39;</span> } <span class="ruby-comment"># =&gt; &quot;0&quot;</span>
</pre>

<p>Raises an exception if <code>name</code> is invalid. See <a
href="#class-ENV-label-Invalid-Names+and+Values">Invalid Names and
Values</a>.</p>
            

            
            <div class="method-source-code" id="delete-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_delete_m(VALUE obj, VALUE name)
{
    VALUE val;

    val = env_delete(name);
    if (NIL_P(val) &amp;&amp; rb_block_given_p()) rb_yield(name);
    return val;
}
            </pre> 
            </div><!-- delete-source -->
            
          </div>

          

          
        </div><!-- delete-method -->
      
        <div id="delete_if-method" class="method-detail ">
          <a name="method-c-delete_if"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">delete_if { |name, value| block } &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">delete_if                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Deletes every environment variable for which the block evaluates to
<code>true</code>.</p>

<p>If no block is given an enumerator is returned instead.</p>
            

            
            <div class="method-source-code" id="delete_if-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_delete_if(VALUE ehash)
{
    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    env_reject_bang(ehash);
    return envtbl;
}
            </pre> 
            </div><!-- delete_if-source -->
            
          </div>

          

          
        </div><!-- delete_if-method -->
      
        <div id="each-method" class="method-detail ">
          <a name="method-c-each"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">each      { |name, value| block } &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">each                              &rarr; Enumerator</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">each_pair { |name, value| block } &rarr; ENV</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">each_pair                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Yields each environment variable name and its value as a 2-element Array:</p>

<pre class="ruby"><span class="ruby-identifier">h</span> = {}
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_pair</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span> } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">h</span> <span class="ruby-comment"># =&gt; {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}</span>
</pre>

<p>Returns an <a href="Enumerator.html">Enumerator</a> if no block given:</p>

<pre class="ruby"><span class="ruby-identifier">h</span> = {}
<span class="ruby-identifier">e</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-comment"># =&gt; #&lt;Enumerator: {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}:each_pair&gt;</span>
<span class="ruby-identifier">e</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span> } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">h</span> <span class="ruby-comment"># =&gt; {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}</span>
</pre>
            

            
            <div class="method-source-code" id="each-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_each_pair(VALUE ehash)
{
    char **env;
    VALUE ary;
    long i;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);

    ary = rb_ary_new();
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s) {
            rb_ary_push(ary, env_str_new(*env, s-*env));
            rb_ary_push(ary, env_str_new2(s+1));
        }
        env++;
    }
    FREE_ENVIRON(environ);

    if (rb_block_arity() &gt; 1) {
        for (i=0; i&lt;RARRAY_LEN(ary); i+=2) {
            rb_yield_values(2, RARRAY_AREF(ary, i), RARRAY_AREF(ary, i+1));
        }
    }
    else {
        for (i=0; i&lt;RARRAY_LEN(ary); i+=2) {
            rb_yield(rb_assoc_new(RARRAY_AREF(ary, i), RARRAY_AREF(ary, i+1)));
        }
    }
    return ehash;
}
            </pre> 
            </div><!-- each-source -->
            
          </div>

          

          
        </div><!-- each-method -->
      
        <div id="each_key-method" class="method-detail ">
          <a name="method-c-each_key"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">each_key { |name| block } &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">each_key                  &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Yields each environment variable name:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>) <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">names</span> = []
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_key</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">name</span>) } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">names</span> <span class="ruby-comment"># =&gt; [&quot;bar&quot;, &quot;foo&quot;]</span>
</pre>

<p>Returns an <a href="Enumerator.html">Enumerator</a> if no block given:</p>

<pre class="ruby"><span class="ruby-identifier">e</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_key</span> <span class="ruby-comment"># =&gt; #&lt;Enumerator: {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}:each_key&gt;</span>
<span class="ruby-identifier">names</span> = []
<span class="ruby-identifier">e</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">name</span>) } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">names</span> <span class="ruby-comment"># =&gt; [&quot;bar&quot;, &quot;foo&quot;]</span>
</pre>
            

            
            <div class="method-source-code" id="each_key-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_each_key(VALUE ehash)
{
    VALUE keys;
    long i;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    keys = env_keys();
    for (i=0; i&lt;RARRAY_LEN(keys); i++) {
        rb_yield(RARRAY_AREF(keys, i));
    }
    return ehash;
}
            </pre> 
            </div><!-- each_key-source -->
            
          </div>

          

          
        </div><!-- each_key-method -->
      
        <div id="each_pair-method" class="method-detail ">
          <a name="method-c-each_pair"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">each_pair { |name, value| block } &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">each_pair                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Yields each environment variable name and its value as a 2-element Array:</p>

<pre class="ruby"><span class="ruby-identifier">h</span> = {}
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_pair</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span> } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">h</span> <span class="ruby-comment"># =&gt; {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}</span>
</pre>

<p>Returns an <a href="Enumerator.html">Enumerator</a> if no block given:</p>

<pre class="ruby"><span class="ruby-identifier">h</span> = {}
<span class="ruby-identifier">e</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-comment"># =&gt; #&lt;Enumerator: {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}:each_pair&gt;</span>
<span class="ruby-identifier">e</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span> } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">h</span> <span class="ruby-comment"># =&gt; {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}</span>
</pre>
            

            
            <div class="method-source-code" id="each_pair-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_each_pair(VALUE ehash)
{
    char **env;
    VALUE ary;
    long i;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);

    ary = rb_ary_new();
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s) {
            rb_ary_push(ary, env_str_new(*env, s-*env));
            rb_ary_push(ary, env_str_new2(s+1));
        }
        env++;
    }
    FREE_ENVIRON(environ);

    if (rb_block_arity() &gt; 1) {
        for (i=0; i&lt;RARRAY_LEN(ary); i+=2) {
            rb_yield_values(2, RARRAY_AREF(ary, i), RARRAY_AREF(ary, i+1));
        }
    }
    else {
        for (i=0; i&lt;RARRAY_LEN(ary); i+=2) {
            rb_yield(rb_assoc_new(RARRAY_AREF(ary, i), RARRAY_AREF(ary, i+1)));
        }
    }
    return ehash;
}
            </pre> 
            </div><!-- each_pair-source -->
            
          </div>

          

          
        </div><!-- each_pair-method -->
      
        <div id="each_value-method" class="method-detail ">
          <a name="method-c-each_value"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">each_value { |value| block } &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">each_value                   &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Yields each environment variable value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>) <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">values</span> = []
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_value</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">value</span>) } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [&quot;1&quot;, &quot;0&quot;]</span>
</pre>

<p>Returns an <a href="Enumerator.html">Enumerator</a> if no block given:</p>

<pre class="ruby"><span class="ruby-identifier">e</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">each_value</span> <span class="ruby-comment"># =&gt; #&lt;Enumerator: {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}:each_value&gt;</span>
<span class="ruby-identifier">values</span> = []
<span class="ruby-identifier">e</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">value</span>) } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [&quot;1&quot;, &quot;0&quot;]</span>
</pre>
            

            
            <div class="method-source-code" id="each_value-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_each_value(VALUE ehash)
{
    VALUE values;
    long i;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    values = env_values();
    for (i=0; i&lt;RARRAY_LEN(values); i++) {
        rb_yield(RARRAY_AREF(values, i));
    }
    return ehash;
}
            </pre> 
            </div><!-- each_value-source -->
            
          </div>

          

          
        </div><!-- each_value-method -->
      
        <div id="empty-3F-method" class="method-detail ">
          <a name="method-c-empty-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">empty? &rarr; true or false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns true when there are no environment variables</p>
            

            
            <div class="method-source-code" id="empty-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_empty_p(VALUE _)
{
    char **env;

    env = GET_ENVIRON(environ);
    if (env[0] == 0) {
        FREE_ENVIRON(environ);
        return Qtrue;
    }
    FREE_ENVIRON(environ);
    return Qfalse;
}
            </pre> 
            </div><!-- empty-3F-source -->
            
          </div>

          

          
        </div><!-- empty-3F-method -->
      
        <div id="fetch-method" class="method-detail ">
          <a name="method-c-fetch"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">fetch(name)                  &rarr; value</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">fetch(name, default)         &rarr; value</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">fetch(name) { |name| block } &rarr; value</span>
            
          </div>
          
          
          <div>
  
            
            <p>If <code>name</code> is the name of an environment variable, returns its
value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; &#39;0&#39;</span>
</pre>

<p>Otherwise if a block is given (but not a default value), yields
<code>name</code> to the block and returns the block&#39;s return value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;foo&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> :<span class="ruby-identifier">need_not_return_a_string</span> } <span class="ruby-comment"># =&gt; :need_not_return_a_string</span>
</pre>

<p>Otherwise if a default value is given (but not a block), returns the
default value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;foo&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;foo&#39;</span>, :<span class="ruby-identifier">default_need_not_be_a_string</span>) <span class="ruby-comment"># =&gt; :default_need_not_be_a_string</span>
</pre>

<p>If the environment variable does not exist and both default and block are
given, issues a warning (“warning: block supersedes default value
argument”), yields <code>name</code> to the block, and returns the
block&#39;s return value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;foo&#39;</span>, :<span class="ruby-identifier">default</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> :<span class="ruby-identifier">block_return</span> } <span class="ruby-comment"># =&gt; :block_return</span>
</pre>

<p>Raises <a href="KeyError.html">KeyError</a> if <code>name</code> is valid,
but not found, and neither default value nor block is given:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># Raises KeyError (key not found: &quot;foo&quot;)</span>
</pre>

<p>Raises an exception if <code>name</code> is invalid. See <a
href="#class-ENV-label-Invalid-Names+and+Values">Invalid Names and
Values</a>.</p>
            

            
            <div class="method-source-code" id="fetch-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_fetch(int argc, VALUE *argv, VALUE _)
{
    VALUE key;
    long block_given;
    const char *nam, *env;

    rb_check_arity(argc, 1, 2);
    key = argv[0];
    block_given = rb_block_given_p();
    if (block_given &amp;&amp; argc == 2) {
        rb_warn(&quot;block supersedes default value argument&quot;);
    }
    nam = env_name(key);
    env = getenv(nam);
    if (!env) {
        if (block_given) return rb_yield(key);
        if (argc == 1) {
            rb_key_err_raise(rb_sprintf(&quot;key not found: \&quot;%&quot;PRIsVALUE&quot;\&quot;&quot;, key), envtbl, key);
        }
        return argv[1];
    }
    return env_name_new(nam, env);
}
            </pre> 
            </div><!-- fetch-source -->
            
          </div>

          

          
        </div><!-- fetch-method -->
      
        <div id="filter-method" class="method-detail ">
          <a name="method-c-filter"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">filter { |name, value| block } &rarr; Hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">filter                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns a copy of the environment for entries where the block returns true.</p>

<p>Returns an <a href="Enumerator.html">Enumerator</a> if no block was given.</p>

<p><a href="ENV.html#method-c-filter">::filter</a> is an alias for <a
href="ENV.html#method-c-select">::select</a>.</p>
            

            
            <div class="method-source-code" id="filter-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_select(VALUE ehash)
{
    VALUE result;
    VALUE keys;
    long i;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    result = rb_hash_new();
    keys = env_keys();
    for (i = 0; i &lt; RARRAY_LEN(keys); ++i) {
        VALUE key = RARRAY_AREF(keys, i);
        VALUE val = rb_f_getenv(Qnil, key);
        if (!NIL_P(val)) {
            if (RTEST(rb_yield_values(2, key, val))) {
                rb_hash_aset(result, key, val);
            }
        }
    }
    RB_GC_GUARD(keys);

    return result;
}
            </pre> 
            </div><!-- filter-source -->
            
          </div>

          

          
        </div><!-- filter-method -->
      
        <div id="filter-21-method" class="method-detail ">
          <a name="method-c-filter-21"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">filter! { |name, value| block } &rarr; ENV or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">filter!                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Equivalent to <a href="ENV.html#method-c-keep_if">::keep_if</a> but returns
<code>nil</code> if no changes were made.</p>

<p><a href="ENV.html#method-c-filter-21">::filter!</a> is an alias for <a
href="ENV.html#method-c-select-21">::select!</a>.</p>
            

            
            <div class="method-source-code" id="filter-21-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_select_bang(VALUE ehash)
{
    VALUE keys;
    long i;
    int del = 0;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    keys = env_keys();
    RBASIC_CLEAR_CLASS(keys);
    for (i=0; i&lt;RARRAY_LEN(keys); i++) {
        VALUE val = rb_f_getenv(Qnil, RARRAY_AREF(keys, i));
        if (!NIL_P(val)) {
            if (!RTEST(rb_yield_values(2, RARRAY_AREF(keys, i), val))) {
                env_delete(RARRAY_AREF(keys, i));
                del++;
            }
        }
    }
    RB_GC_GUARD(keys);
    if (del == 0) return Qnil;
    return envtbl;
}
            </pre> 
            </div><!-- filter-21-source -->
            
          </div>

          

          
        </div><!-- filter-21-method -->
      
        <div id="freeze-method" class="method-detail ">
          <a name="method-c-freeze"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">freeze &rarr; raises TypeError</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Ruby does not allow <a href="ENV.html">ENV</a> to be frozen, so calling <a
href="ENV.html#method-c-freeze">::freeze</a> raises <a
href="TypeError.html">TypeError</a>.</p>
            

            
            <div class="method-source-code" id="freeze-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_freeze(VALUE self)
{
    rb_raise(rb_eTypeError, &quot;cannot freeze ENV&quot;);
    return self; /* Not reached */
}
            </pre> 
            </div><!-- freeze-source -->
            
          </div>

          

          
        </div><!-- freeze-method -->
      
        <div id="has_key-3F-method" class="method-detail ">
          <a name="method-c-has_key-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">has_key?(name) &rarr; true or false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p><a href="ENV.html#method-c-has_key-3F">::has_key?</a>, <a
href="ENV.html#method-c-member-3F">::member?</a>, and <a
href="ENV.html#method-c-key-3F">::key?</a> are aliases for <a
href="ENV.html#method-c-include-3F">::include?</a>.</p>

<p>Returns <code>true</code> if there is an environment variable with the
given <code>name</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is a valid <a
href="String.html">String</a> and there is no such environment variable:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;baz&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is the empty <a
href="String.html">String</a> or is a <a href="String.html">String</a>
containing character <code>&#39;=&#39;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;=&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Raises an exception if <code>name</code> is a <a
href="String.html">String</a> containing the NUL character
<code>&quot;\0&quot;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\0&quot;</span>) <span class="ruby-comment"># Raises ArgumentError (bad environment variable name: contains null byte)</span>
</pre>

<p>Raises an exception if <code>name</code> has an encoding that is not
ASCII-compatible:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\xa1\xa1&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_16LE</span>))
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: ASCII incompatible encoding: UTF-16LE)</span>
</pre>

<p>Raises an exception if <code>name</code> is not a String:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>) <span class="ruby-comment"># TypeError (no implicit conversion of Object into String)</span>
</pre>
            

            
            <div class="method-source-code" id="has_key-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_has_key(VALUE env, VALUE key)
{
    const char *s;

    s = env_name(key);
    if (getenv(s)) return Qtrue;
    return Qfalse;
}
            </pre> 
            </div><!-- has_key-3F-source -->
            
          </div>

          

          
        </div><!-- has_key-3F-method -->
      
        <div id="has_value-3F-method" class="method-detail ">
          <a name="method-c-has_value-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">has_value?(value) &rarr; true or false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns <code>true</code> if there is an environment variable with the
given <code>value</code>.</p>
            

            
            <div class="method-source-code" id="has_value-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_has_value(VALUE dmy, VALUE obj)
{
    char **env;

    obj = rb_check_string_type(obj);
    if (NIL_P(obj)) return Qnil;
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s++) {
            long len = strlen(s);
            if (RSTRING_LEN(obj) == len &amp;&amp; strncmp(s, RSTRING_PTR(obj), len) == 0) {
                FREE_ENVIRON(environ);
                return Qtrue;
            }
        }
        env++;
    }
    FREE_ENVIRON(environ);
    return Qfalse;
}
            </pre> 
            </div><!-- has_value-3F-source -->
            
          </div>

          

          
        </div><!-- has_value-3F-method -->
      
        <div id="include-3F-method" class="method-detail ">
          <a name="method-c-include-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">include?(name) &rarr; true or false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p><a href="ENV.html#method-c-has_key-3F">::has_key?</a>, <a
href="ENV.html#method-c-member-3F">::member?</a>, and <a
href="ENV.html#method-c-key-3F">::key?</a> are aliases for <a
href="ENV.html#method-c-include-3F">::include?</a>.</p>

<p>Returns <code>true</code> if there is an environment variable with the
given <code>name</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is a valid <a
href="String.html">String</a> and there is no such environment variable:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;baz&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is the empty <a
href="String.html">String</a> or is a <a href="String.html">String</a>
containing character <code>&#39;=&#39;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;=&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Raises an exception if <code>name</code> is a <a
href="String.html">String</a> containing the NUL character
<code>&quot;\0&quot;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\0&quot;</span>) <span class="ruby-comment"># Raises ArgumentError (bad environment variable name: contains null byte)</span>
</pre>

<p>Raises an exception if <code>name</code> has an encoding that is not
ASCII-compatible:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\xa1\xa1&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_16LE</span>))
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: ASCII incompatible encoding: UTF-16LE)</span>
</pre>

<p>Raises an exception if <code>name</code> is not a String:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>) <span class="ruby-comment"># TypeError (no implicit conversion of Object into String)</span>
</pre>
            

            
            <div class="method-source-code" id="include-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_has_key(VALUE env, VALUE key)
{
    const char *s;

    s = env_name(key);
    if (getenv(s)) return Qtrue;
    return Qfalse;
}
            </pre> 
            </div><!-- include-3F-source -->
            
          </div>

          

          
        </div><!-- include-3F-method -->
      
        <div id="index-method" class="method-detail ">
          <a name="method-c-index"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">index(value) &rarr; key</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Deprecated method that is equivalent to <a
href="ENV.html#method-c-key">::key</a></p>
            

            
            <div class="method-source-code" id="index-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_index(VALUE dmy, VALUE value)
{
    rb_warn_deprecated(&quot;ENV.index&quot;, &quot;ENV.key&quot;);
    return env_key(dmy, value);
}
            </pre> 
            </div><!-- index-source -->
            
          </div>

          

          
        </div><!-- index-method -->
      
        <div id="inspect-method" class="method-detail ">
          <a name="method-c-inspect"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">inspect &rarr; string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the contents of the environment as a <a
href="String.html">String</a>.</p>
            

            
            <div class="method-source-code" id="inspect-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_inspect(VALUE _)
{
    char **env;
    VALUE str, i;

    str = rb_str_buf_new2(&quot;{&quot;);
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);

        if (env != environ) {
            rb_str_buf_cat2(str, &quot;, &quot;);
        }
        if (s) {
            rb_str_buf_cat2(str, &quot;\&quot;&quot;);
            rb_str_buf_cat(str, *env, s-*env);
            rb_str_buf_cat2(str, &quot;\&quot;=&gt;&quot;);
            i = rb_inspect(rb_str_new2(s+1));
            rb_str_buf_append(str, i);
        }
        env++;
    }
    FREE_ENVIRON(environ);
    rb_str_buf_cat2(str, &quot;}&quot;);

    return str;
}
            </pre> 
            </div><!-- inspect-source -->
            
          </div>

          

          
        </div><!-- inspect-method -->
      
        <div id="invert-method" class="method-detail ">
          <a name="method-c-invert"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">invert &rarr; Hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns a new hash created by using environment variable names as values
and values as names.</p>
            

            
            <div class="method-source-code" id="invert-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_invert(VALUE _)
{
    return rb_hash_invert(env_to_hash());
}
            </pre> 
            </div><!-- invert-source -->
            
          </div>

          

          
        </div><!-- invert-method -->
      
        <div id="keep_if-method" class="method-detail ">
          <a name="method-c-keep_if"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">keep_if { |name, value| block } &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">keep_if                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Deletes every environment variable where the block evaluates to
<code>false</code>.</p>

<p>Returns an enumerator if no block was given.</p>
            

            
            <div class="method-source-code" id="keep_if-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_keep_if(VALUE ehash)
{
    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    env_select_bang(ehash);
    return envtbl;
}
            </pre> 
            </div><!-- keep_if-source -->
            
          </div>

          

          
        </div><!-- keep_if-method -->
      
        <div id="key-method" class="method-detail ">
          <a name="method-c-key"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">key(value) &rarr; name or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the name of the first environment variable with <code>value</code>
if it exists:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">key</span>(<span class="ruby-string">&#39;0&#39;</span>) <span class="ruby-comment"># =&gt;&#39;foo&#39;</span>
</pre>

<p>The order in which environment variables are examined is OS-dependent. See
<a href="#class-ENV-label-About+Ordering">About Ordering</a>.</p>

<p>Returns <code>nil</code> if there is no such value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">key</span>(<span class="ruby-string">&#39;2&#39;</span>) <span class="ruby-comment"># =&gt; nil</span>
</pre>

<p>Raises an exception if <code>value</code> is not a String:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">key</span>(<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>) <span class="ruby-comment"># raises TypeError (no implicit conversion of Object into String)</span>
</pre>
            

            
            <div class="method-source-code" id="key-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_key(VALUE dmy, VALUE value)
{
    char **env;
    VALUE str;

    SafeStringValue(value);
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s++) {
            long len = strlen(s);
            if (RSTRING_LEN(value) == len &amp;&amp; strncmp(s, RSTRING_PTR(value), len) == 0) {
                str = env_str_new(*env, s-*env-1);
                FREE_ENVIRON(environ);
                return str;
            }
        }
        env++;
    }
    FREE_ENVIRON(environ);
    return Qnil;
}
            </pre> 
            </div><!-- key-source -->
            
          </div>

          

          
        </div><!-- key-method -->
      
        <div id="key-3F-method" class="method-detail ">
          <a name="method-c-key-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">key?(name)     &rarr; true or false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p><a href="ENV.html#method-c-has_key-3F">::has_key?</a>, <a
href="ENV.html#method-c-member-3F">::member?</a>, and <a
href="ENV.html#method-c-key-3F">::key?</a> are aliases for <a
href="ENV.html#method-c-include-3F">::include?</a>.</p>

<p>Returns <code>true</code> if there is an environment variable with the
given <code>name</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is a valid <a
href="String.html">String</a> and there is no such environment variable:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;baz&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is the empty <a
href="String.html">String</a> or is a <a href="String.html">String</a>
containing character <code>&#39;=&#39;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;=&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Raises an exception if <code>name</code> is a <a
href="String.html">String</a> containing the NUL character
<code>&quot;\0&quot;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\0&quot;</span>) <span class="ruby-comment"># Raises ArgumentError (bad environment variable name: contains null byte)</span>
</pre>

<p>Raises an exception if <code>name</code> has an encoding that is not
ASCII-compatible:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\xa1\xa1&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_16LE</span>))
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: ASCII incompatible encoding: UTF-16LE)</span>
</pre>

<p>Raises an exception if <code>name</code> is not a String:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>) <span class="ruby-comment"># TypeError (no implicit conversion of Object into String)</span>
</pre>
            

            
            <div class="method-source-code" id="key-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_has_key(VALUE env, VALUE key)
{
    const char *s;

    s = env_name(key);
    if (getenv(s)) return Qtrue;
    return Qfalse;
}
            </pre> 
            </div><!-- key-3F-source -->
            
          </div>

          

          
        </div><!-- key-3F-method -->
      
        <div id="keys-method" class="method-detail ">
          <a name="method-c-keys"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">keys &rarr; Array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns all variable names in an Array:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">keys</span> <span class="ruby-comment"># =&gt; [&#39;bar&#39;, &#39;foo&#39;]</span>
</pre>

<p>The order of the names is OS-dependent. See <a
href="#class-ENV-label-About+Ordering">About Ordering</a>.</p>

<p>Returns the empty <a href="Array.html">Array</a> if <a
href="ENV.html">ENV</a> is empty:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">keys</span> <span class="ruby-comment"># =&gt; []</span>
</pre>
            

            
            <div class="method-source-code" id="keys-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_f_keys(VALUE _)
{
    return env_keys();
}
            </pre> 
            </div><!-- keys-source -->
            
          </div>

          

          
        </div><!-- keys-method -->
      
        <div id="length-method" class="method-detail ">
          <a name="method-c-length"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">length</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the number of environment variables.</p>
            

            
            <div class="method-source-code" id="length-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_size(VALUE _)
{
    int i;
    char **env;

    env = GET_ENVIRON(environ);
    for (i=0; env[i]; i++)
        ;
    FREE_ENVIRON(environ);
    return INT2FIX(i);
}
            </pre> 
            </div><!-- length-source -->
            
          </div>

          

          
        </div><!-- length-method -->
      
        <div id="member-3F-method" class="method-detail ">
          <a name="method-c-member-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">member?(name)  &rarr; true or false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p><a href="ENV.html#method-c-has_key-3F">::has_key?</a>, <a
href="ENV.html#method-c-member-3F">::member?</a>, and <a
href="ENV.html#method-c-key-3F">::key?</a> are aliases for <a
href="ENV.html#method-c-include-3F">::include?</a>.</p>

<p>Returns <code>true</code> if there is an environment variable with the
given <code>name</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is a valid <a
href="String.html">String</a> and there is no such environment variable:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;baz&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Returns <code>false</code> if <code>name</code> is the empty <a
href="String.html">String</a> or is a <a href="String.html">String</a>
containing character <code>&#39;=&#39;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;=&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Raises an exception if <code>name</code> is a <a
href="String.html">String</a> containing the NUL character
<code>&quot;\0&quot;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\0&quot;</span>) <span class="ruby-comment"># Raises ArgumentError (bad environment variable name: contains null byte)</span>
</pre>

<p>Raises an exception if <code>name</code> has an encoding that is not
ASCII-compatible:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\xa1\xa1&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_16LE</span>))
<span class="ruby-comment"># Raises ArgumentError (bad environment variable name: ASCII incompatible encoding: UTF-16LE)</span>
</pre>

<p>Raises an exception if <code>name</code> is not a String:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>) <span class="ruby-comment"># TypeError (no implicit conversion of Object into String)</span>
</pre>
            

            
            <div class="method-source-code" id="member-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_has_key(VALUE env, VALUE key)
{
    const char *s;

    s = env_name(key);
    if (getenv(s)) return Qtrue;
    return Qfalse;
}
            </pre> 
            </div><!-- member-3F-source -->
            
          </div>

          

          
        </div><!-- member-3F-method -->
      
        <div id="merge-21-method" class="method-detail ">
          <a name="method-c-merge-21"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">merge!(hash)                                        &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">merge!(hash) { |name, old_value, new_value| block } &rarr; ENV</span>
            
          </div>
          
          
          <div>
  
            
            <p>Adds the contents of <code>hash</code> to the environment variables.  If no
block is specified entries with duplicate keys are overwritten, otherwise
the value of each duplicate name is determined by calling the block with
the key, its value from the environment and its value from the hash.</p>
            

            
            <div class="method-source-code" id="merge-21-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_update(VALUE env, VALUE hash)
{
    if (env == hash) return env;
    hash = to_hash(hash);
    rb_foreach_func *func = rb_block_given_p() ?
        env_update_block_i : env_update_i;
    rb_hash_foreach(hash, func, 0);
    return env;
}
            </pre> 
            </div><!-- merge-21-source -->
            
          </div>

          

          
        </div><!-- merge-21-method -->
      
        <div id="rassoc-method" class="method-detail ">
          <a name="method-c-rassoc"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rassoc(value)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns an <a href="Array.html">Array</a> of the name and value of the
environment variable with <code>value</code> or <code>nil</code> if the
value cannot be found.</p>
            

            
            <div class="method-source-code" id="rassoc-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_rassoc(VALUE dmy, VALUE obj)
{
    char **env;

    obj = rb_check_string_type(obj);
    if (NIL_P(obj)) return Qnil;
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s++) {
            long len = strlen(s);
            if (RSTRING_LEN(obj) == len &amp;&amp; strncmp(s, RSTRING_PTR(obj), len) == 0) {
                VALUE result = rb_assoc_new(rb_str_new(*env, s-*env-1), obj);
                FREE_ENVIRON(environ);
                return result;
            }
        }
        env++;
    }
    FREE_ENVIRON(environ);
    return Qnil;
}
            </pre> 
            </div><!-- rassoc-source -->
            
          </div>

          

          
        </div><!-- rassoc-method -->
      
        <div id="rehash-method" class="method-detail ">
          <a name="method-c-rehash"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rehash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Re-hashing the environment variables does nothing.  It is provided for
compatibility with <a href="Hash.html">Hash</a>.</p>
            

            
            <div class="method-source-code" id="rehash-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_none(VALUE _)
{
    return Qnil;
}
            </pre> 
            </div><!-- rehash-source -->
            
          </div>

          

          
        </div><!-- rehash-method -->
      
        <div id="reject-method" class="method-detail ">
          <a name="method-c-reject"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">reject { |name, value| block } &rarr; Hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">reject                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Same as <a href="ENV.html#method-c-delete_if">::delete_if</a>, but works on
(and returns) a copy of the environment.</p>
            

            
            <div class="method-source-code" id="reject-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_reject(VALUE _)
{
    return rb_hash_delete_if(env_to_hash());
}
            </pre> 
            </div><!-- reject-source -->
            
          </div>

          

          
        </div><!-- reject-method -->
      
        <div id="reject-21-method" class="method-detail ">
          <a name="method-c-reject-21"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">reject! { |name, value| block } &rarr; ENV or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">reject!                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Similar to <a href="ENV.html#method-c-delete_if">::delete_if</a>, but
returns <code>nil</code> if no changes were made.</p>

<p>Deletes each environment variable for which the block returns a truthy
value, returning <a href="ENV.html">ENV</a> (if any deletions) or
<code>nil</code> (if not):</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>, <span class="ruby-string">&#39;baz&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;b&#39;</span>) } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-constant">ENV</span> <span class="ruby-comment"># =&gt; {&quot;foo&quot;=&gt;&quot;0&quot;}</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;b&#39;</span>) } <span class="ruby-comment"># =&gt; nil</span>
</pre>

<p>Returns an <a href="Enumerator.html">Enumerator</a> if no block given:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>, <span class="ruby-string">&#39;baz&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2&#39;</span>)
<span class="ruby-identifier">e</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-comment"># =&gt; #&lt;Enumerator: {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;baz&quot;=&gt;&quot;2&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}:reject!&gt;</span>
<span class="ruby-identifier">e</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;b&#39;</span>) } <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-constant">ENV</span> <span class="ruby-comment"># =&gt; {&quot;foo&quot;=&gt;&quot;0&quot;}</span>
<span class="ruby-identifier">e</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;b&#39;</span>) } <span class="ruby-comment"># =&gt; nil</span>
</pre>
            

            
            <div class="method-source-code" id="reject-21-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_reject_bang(VALUE ehash)
{
    VALUE keys;
    long i;
    int del = 0;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    keys = env_keys();
    RBASIC_CLEAR_CLASS(keys);
    for (i=0; i&lt;RARRAY_LEN(keys); i++) {
        VALUE val = rb_f_getenv(Qnil, RARRAY_AREF(keys, i));
        if (!NIL_P(val)) {
            if (RTEST(rb_yield_values(2, RARRAY_AREF(keys, i), val))) {
                env_delete(RARRAY_AREF(keys, i));
                del++;
            }
        }
    }
    RB_GC_GUARD(keys);
    if (del == 0) return Qnil;
    return envtbl;
}
            </pre> 
            </div><!-- reject-21-source -->
            
          </div>

          

          
        </div><!-- reject-21-method -->
      
        <div id="replace-method" class="method-detail ">
          <a name="method-c-replace"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">replace(hash) &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Replaces the entire content of the environment variables with the
name/value pairs in the given <code>hash</code>; returns <a
href="ENV.html">ENV</a>.</p>

<p>Replaces the content of <a href="ENV.html">ENV</a> with the given pairs:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>) <span class="ruby-comment"># =&gt; ENV</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_hash</span> <span class="ruby-comment"># =&gt; {&quot;bar&quot;=&gt;&quot;1&quot;, &quot;foo&quot;=&gt;&quot;0&quot;}</span>
</pre>

<p>Raises an exception if a name or value is invalid. See <a
href="#class-ENV-label-Invalid-Names+and+Values">Invalid Names and
Values</a>.</p>
            

            
            <div class="method-source-code" id="replace-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_replace(VALUE env, VALUE hash)
{
    VALUE keys;
    long i;

    keys = env_keys();
    if (env == hash) return env;
    hash = to_hash(hash);
    rb_hash_foreach(hash, env_replace_i, keys);

    for (i=0; i&lt;RARRAY_LEN(keys); i++) {
        env_delete(RARRAY_AREF(keys, i));
    }
    RB_GC_GUARD(keys);
    return env;
}
            </pre> 
            </div><!-- replace-source -->
            
          </div>

          

          
        </div><!-- replace-method -->
      
        <div id="select-method" class="method-detail ">
          <a name="method-c-select"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">select { |name, value| block } &rarr; Hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">select                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns a copy of the environment for entries where the block returns true.</p>

<p>Returns an <a href="Enumerator.html">Enumerator</a> if no block was given.</p>

<p><a href="ENV.html#method-c-filter">::filter</a> is an alias for <a
href="ENV.html#method-c-select">::select</a>.</p>
            

            
            <div class="method-source-code" id="select-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_select(VALUE ehash)
{
    VALUE result;
    VALUE keys;
    long i;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    result = rb_hash_new();
    keys = env_keys();
    for (i = 0; i &lt; RARRAY_LEN(keys); ++i) {
        VALUE key = RARRAY_AREF(keys, i);
        VALUE val = rb_f_getenv(Qnil, key);
        if (!NIL_P(val)) {
            if (RTEST(rb_yield_values(2, key, val))) {
                rb_hash_aset(result, key, val);
            }
        }
    }
    RB_GC_GUARD(keys);

    return result;
}
            </pre> 
            </div><!-- select-source -->
            
          </div>

          

          
        </div><!-- select-method -->
      
        <div id="select-21-method" class="method-detail ">
          <a name="method-c-select-21"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">select! { |name, value| block } &rarr; ENV or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">select!                         &rarr; Enumerator</span>
            
          </div>
          
          
          <div>
  
            
            <p>Equivalent to <a href="ENV.html#method-c-keep_if">::keep_if</a> but returns
<code>nil</code> if no changes were made.</p>

<p><a href="ENV.html#method-c-filter-21">::filter!</a> is an alias for <a
href="ENV.html#method-c-select-21">::select!</a>.</p>
            

            
            <div class="method-source-code" id="select-21-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_select_bang(VALUE ehash)
{
    VALUE keys;
    long i;
    int del = 0;

    RETURN_SIZED_ENUMERATOR(ehash, 0, 0, rb_env_size);
    keys = env_keys();
    RBASIC_CLEAR_CLASS(keys);
    for (i=0; i&lt;RARRAY_LEN(keys); i++) {
        VALUE val = rb_f_getenv(Qnil, RARRAY_AREF(keys, i));
        if (!NIL_P(val)) {
            if (!RTEST(rb_yield_values(2, RARRAY_AREF(keys, i), val))) {
                env_delete(RARRAY_AREF(keys, i));
                del++;
            }
        }
    }
    RB_GC_GUARD(keys);
    if (del == 0) return Qnil;
    return envtbl;
}
            </pre> 
            </div><!-- select-21-source -->
            
          </div>

          

          
        </div><!-- select-21-method -->
      
        <div id="shift-method" class="method-detail ">
          <a name="method-c-shift"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">shift &rarr; [name, value] or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Removes the first environment variable from <a href="ENV.html">ENV</a> and
returns a 2-element <a href="Array.html">Array</a> containing its name and
value:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_hash</span> <span class="ruby-comment"># =&gt; {&#39;bar&#39; =&gt; &#39;1&#39;, &#39;foo&#39; =&gt; &#39;0&#39;}</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">shift</span> <span class="ruby-comment"># =&gt; [&#39;bar&#39;, &#39;1&#39;]</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_hash</span> <span class="ruby-comment"># =&gt; {&#39;foo&#39; =&gt; &#39;0&#39;}</span>
</pre>

<p>Exactly which environment variable is “first” is OS-dependent. See <a
href="#class-ENV-label-About+Ordering">About Ordering</a>.</p>

<p>Returns <code>nil</code> if the environment is empty:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">shift</span> <span class="ruby-comment"># =&gt; nil</span>
</pre>
            

            
            <div class="method-source-code" id="shift-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_shift(VALUE _)
{
    char **env;
    VALUE result = Qnil;

    env = GET_ENVIRON(environ);
    if (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s) {
            VALUE key = env_str_new(*env, s-*env);
            VALUE val = env_str_new2(getenv(RSTRING_PTR(key)));
            env_delete(key);
            result = rb_assoc_new(key, val);
        }
    }
    FREE_ENVIRON(environ);
    return result;
}
            </pre> 
            </div><!-- shift-source -->
            
          </div>

          

          
        </div><!-- shift-method -->
      
        <div id="size-method" class="method-detail ">
          <a name="method-c-size"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">size</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the number of environment variables.</p>
            

            
            <div class="method-source-code" id="size-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_size(VALUE _)
{
    int i;
    char **env;

    env = GET_ENVIRON(environ);
    for (i=0; env[i]; i++)
        ;
    FREE_ENVIRON(environ);
    return INT2FIX(i);
}
            </pre> 
            </div><!-- size-source -->
            
          </div>

          

          
        </div><!-- size-method -->
      
        <div id="slice-method" class="method-detail ">
          <a name="method-c-slice"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">slice(*keys) &rarr; a_hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns a hash containing only the given keys from <a
href="ENV.html">ENV</a> and their values.</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-string">&quot;TERM&quot;</span>,<span class="ruby-string">&quot;HOME&quot;</span>)  <span class="ruby-comment">#=&gt; {&quot;TERM&quot;=&gt;&quot;xterm-256color&quot;, &quot;HOME&quot;=&gt;&quot;/Users/rhc&quot;}</span>
</pre>
            

            
            <div class="method-source-code" id="slice-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_slice(int argc, VALUE *argv, VALUE _)
{
    int i;
    VALUE key, value, result;

    if (argc == 0) {
        return rb_hash_new();
    }
    result = rb_hash_new_with_size(argc);

    for (i = 0; i &lt; argc; i++) {
        key = argv[i];
        value = rb_f_getenv(Qnil, key);
        if (value != Qnil)
            rb_hash_aset(result, key, value);
    }

    return result;
}
            </pre> 
            </div><!-- slice-source -->
            
          </div>

          

          
        </div><!-- slice-method -->
      
        <div id="store-method" class="method-detail ">
          <a name="method-c-store"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">store(name, value) &rarr; value</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p><a href="ENV.html#method-c-store">::store</a> is an alias for <a
href="ENV.html#method-c-5B-5D-3D">::[]=</a>.</p>

<p>Creates, updates, or deletes the named environment variable, returning the
value. Both <code>name</code> and <code>value</code> may be instances of <a
href="String.html">String</a>. See <a
href="#class-ENV-label-Valid+Names+and+Values">Valid Names and Values</a>.</p>
<ul><li>
<p>If the named environment variable does not exist:</p>
<ul><li>
<p>If <code>value</code> is <code>nil</code>, does nothing.</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-keyword">nil</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-keyword">nil</span>) <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;bar&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>
</li><li>
<p>If <code>value</code> is not <code>nil</code>, creates the environment
variable with <code>name</code> and <code>value</code>:</p>

<pre class="ruby"><span class="ruby-comment"># Create &#39;foo&#39; using ENV.[]=.</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;0&#39;</span> <span class="ruby-comment"># =&gt; &#39;0&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] <span class="ruby-comment"># =&gt; &#39;0&#39;</span>
<span class="ruby-comment"># Create &#39;bar&#39; using ENV.store.</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-string">&#39;1&#39;</span>) <span class="ruby-comment"># =&gt; &#39;1&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;bar&#39;</span>] <span class="ruby-comment"># =&gt; &#39;1&#39;</span>
</pre>
</li></ul>
</li><li>
<p>If the named environment variable exists:</p>
<ul><li>
<p>If <code>value</code> is not <code>nil</code>, updates the environment
variable with value <code>value</code>:</p>

<pre class="ruby"><span class="ruby-comment"># Update &#39;foo&#39; using ENV.[]=.</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-string">&#39;2&#39;</span> <span class="ruby-comment"># =&gt; &#39;2&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] <span class="ruby-comment"># =&gt; &#39;2&#39;</span>
<span class="ruby-comment"># Update &#39;bar&#39; using ENV.store.</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-string">&#39;3&#39;</span>) <span class="ruby-comment"># =&gt; &#39;3&#39;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;bar&#39;</span>] <span class="ruby-comment"># =&gt; &#39;3&#39;</span>
</pre>
</li><li>
<p>If <code>value</code> is <code>nil</code>, deletes the environment
variable:</p>

<pre class="ruby"><span class="ruby-comment"># Delete &#39;foo&#39; using ENV.[]=.</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;foo&#39;</span>] = <span class="ruby-keyword">nil</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;foo&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-comment"># Delete &#39;bar&#39; using ENV.store.</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-keyword">nil</span>) <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;bar&#39;</span>) <span class="ruby-comment"># =&gt; false</span>
</pre>
</li></ul>
</li></ul>

<p>Raises an exception if <code>name</code> or <code>value</code> is invalid.
See <a href="#class-ENV-label-Invalid+Names+and+Values">Invalid Names and
Values</a>.</p>
            

            
            <div class="method-source-code" id="store-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_aset_m(VALUE obj, VALUE nm, VALUE val)
{
    return env_aset(nm, val);
}
            </pre> 
            </div><!-- store-source -->
            
          </div>

          

          
        </div><!-- store-method -->
      
        <div id="to_a-method" class="method-detail ">
          <a name="method-c-to_a"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_a &rarr; Array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Converts the environment variables into an array of names and value arrays.</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_a</span> <span class="ruby-comment"># =&gt; [[&quot;TERM&quot;, &quot;xterm-color&quot;], [&quot;SHELL&quot;, &quot;/bin/bash&quot;], ...]</span>
</pre>
            

            
            <div class="method-source-code" id="to_a-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_to_a(VALUE _)
{
    char **env;
    VALUE ary;

    ary = rb_ary_new();
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s) {
            rb_ary_push(ary, rb_assoc_new(env_str_new(*env, s-*env),
                                          env_str_new2(s+1)));
        }
        env++;
    }
    FREE_ENVIRON(environ);
    return ary;
}
            </pre> 
            </div><!-- to_a-source -->
            
          </div>

          

          
        </div><!-- to_a-method -->
      
        <div id="to_h-method" class="method-detail ">
          <a name="method-c-to_h"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_h                        &rarr; hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">to_h {|name, value| block } &rarr; hash</span>
            
          </div>
          
          
          <div>
  
            
            <p>Creates a hash with a copy of the environment variables.</p>
            

            
            <div class="method-source-code" id="to_h-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_to_h(VALUE _)
{
    VALUE hash = env_to_hash();
    if (rb_block_given_p()) {
        hash = rb_hash_to_h_block(hash);
    }
    return hash;
}
            </pre> 
            </div><!-- to_h-source -->
            
          </div>

          

          
        </div><!-- to_h-method -->
      
        <div id="to_hash-method" class="method-detail ">
          <a name="method-c-to_hash"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_hash &rarr; hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Creates a hash with a copy of the environment variables.</p>
            

            
            <div class="method-source-code" id="to_hash-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_f_to_hash(VALUE _)
{
    return env_to_hash();
}
            </pre> 
            </div><!-- to_hash-source -->
            
          </div>

          

          
        </div><!-- to_hash-method -->
      
        <div id="to_s-method" class="method-detail ">
          <a name="method-c-to_s"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_s &rarr; "ENV"</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns “ENV”</p>
            

            
            <div class="method-source-code" id="to_s-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_to_s(VALUE _)
{
    return rb_usascii_str_new2(&quot;ENV&quot;);
}
            </pre> 
            </div><!-- to_s-source -->
            
          </div>

          

          
        </div><!-- to_s-method -->
      
        <div id="update-method" class="method-detail ">
          <a name="method-c-update"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">update(hash)                                        &rarr; ENV</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">update(hash) { |name, old_value, new_value| block } &rarr; ENV</span>
            
          </div>
          
          
          <div>
  
            
            <p>Adds the contents of <code>hash</code> to the environment variables.  If no
block is specified entries with duplicate keys are overwritten, otherwise
the value of each duplicate name is determined by calling the block with
the key, its value from the environment and its value from the hash.</p>
            

            
            <div class="method-source-code" id="update-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_update(VALUE env, VALUE hash)
{
    if (env == hash) return env;
    hash = to_hash(hash);
    rb_foreach_func *func = rb_block_given_p() ?
        env_update_block_i : env_update_i;
    rb_hash_foreach(hash, func, 0);
    return env;
}
            </pre> 
            </div><!-- update-source -->
            
          </div>

          

          
        </div><!-- update-method -->
      
        <div id="value-3F-method" class="method-detail ">
          <a name="method-c-value-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">value?(value) &rarr; true or false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns <code>true</code> if there is an environment variable with the
given <code>value</code>.</p>
            

            
            <div class="method-source-code" id="value-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_has_value(VALUE dmy, VALUE obj)
{
    char **env;

    obj = rb_check_string_type(obj);
    if (NIL_P(obj)) return Qnil;
    env = GET_ENVIRON(environ);
    while (*env) {
        char *s = strchr(*env, &#39;=&#39;);
        if (s++) {
            long len = strlen(s);
            if (RSTRING_LEN(obj) == len &amp;&amp; strncmp(s, RSTRING_PTR(obj), len) == 0) {
                FREE_ENVIRON(environ);
                return Qtrue;
            }
        }
        env++;
    }
    FREE_ENVIRON(environ);
    return Qfalse;
}
            </pre> 
            </div><!-- value-3F-source -->
            
          </div>

          

          
        </div><!-- value-3F-method -->
      
        <div id="values-method" class="method-detail ">
          <a name="method-c-values"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">values &rarr; Array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns all environment variable values in an Array:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">&#39;foo&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [&#39;1&#39;, &#39;0&#39;]</span>
</pre>

<p>The order of the values is OS-dependent. See <a
href="#class-ENV-label-About+Ordering">About Ordering</a>.</p>

<p>Returns the empty <a href="Array.html">Array</a> if <a
href="ENV.html">ENV</a> is empty:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-constant">ENV</span>.<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; []</span>
</pre>
            

            
            <div class="method-source-code" id="values-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_f_values(VALUE _)
{
    return env_values();
}
            </pre> 
            </div><!-- values-source -->
            
          </div>

          

          
        </div><!-- values-method -->
      
        <div id="values_at-method" class="method-detail ">
          <a name="method-c-values_at"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">values_at(name, ...) &rarr; Array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns an array containing the environment variable values associated with
the given names.  See also <a href="ENV.html#method-c-select">::select</a>.</p>
            

            
            <div class="method-source-code" id="values_at-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
env_values_at(int argc, VALUE *argv, VALUE _)
{
    VALUE result;
    long i;

    result = rb_ary_new();
    for (i=0; i&lt;argc; i++) {
        rb_ary_push(result, rb_f_getenv(Qnil, argv[i]));
    }
    return result;
}
            </pre> 
            </div><!-- values_at-source -->
            
          </div>

          

          
        </div><!-- values_at-method -->
      
      </div><!-- public-class-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_ENV_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_ENV_versioned").load("/associated/2.7.1/ENV.ihtml");</script> <div id='tx_ENV' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_ENV").load("/associated/ENV.ihtml");</script> 
      
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 2.7.1</small></p> 
  
   <p><a href="http://ruby-doc.org">Ruby-doc.org</a> is provided by <a href="http://jamesbritt.com">James Britt</a> and <a href="http://neurogami.com">Neurogami</a>. <a href="http://neurogami.com">Hack your world.  Feed your head.  Live curious</a>.  <div class='oio-inline'><ins data-revive-zoneid="1" data-revive-id="58924a5717c091dfee6dda3f7d38c4d7"></ins><script async src="//ras.ruby-doc.org/vvv/delivery/thesinkjs.php"></script></div></p>
 
       <p><small>Generated with Ruby-doc Rdoc Generator 0.42.0</small>.</p>
  </div>
</div>
  
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.ihtml");
    });

    </script>


 
		<script type='text/javascript'>

	function loadPlus(plusdocs){
			$(plusdocs).find("div[class='associated_wrapper']").each (function() {
					$("#" + this.id).append($(plusdocs).find("#" + this.id ));
					});
	} 

   //function loadInline(json){
   // for (var lookFor in json) {
    //  $(lookFor).after(json[lookFor]);
    // }
  // } // end loadInline


$(document).ready(function() {
		$.ajaxSetup({ cache: false });
			$.get('/associated/2.7.1/plus_ENV.ihtml', 
			function(plusdocs) {
			setTimeout(function() {
				loadPlus(plusdocs);
				}, 2000);
			}
			);


//     $.ajax({
//     dataType: "json",
//      url: '/associated/2.7.1/inline_ENV.js',
//      success: function(json) {
// 			setTimeout(function() {
// 				loadInline(json);
// 				}, 2000);
// 			}
//    });

		});
</script>
		
</body>
</html>


